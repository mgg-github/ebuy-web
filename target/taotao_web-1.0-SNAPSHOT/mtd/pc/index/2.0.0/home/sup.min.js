define("home/widget/sup",["O2_COMPONENT/carousel/1.0.0/carousel.js"],function(require,exports,module){"use strict";var e,t=(require("conf"),require("O2_COMPONENT/carousel/1.0.0/carousel.js"));return e=function(e){this.opts=$.extend({$el:null},e)},e.prototype._loadImg=function(e){e.each(function(e,t){var o=$(t);o.attr("src",o.attr("data-lazy-src")).one("load",function(){o.removeClass("mod_loading")}).each(function(){this.complete&&$(this).load()})})},e.prototype.init=function(){var e=".J_sup_page",o=$(e),s=".J_sup_ind_item",n=$(s),c=".J_sup_btn_pre",i=".J_sup_btn_next",a=this;this.carousel=new t({container:this.opts.$el,itemSelector:$(e,this.opts.$el),activeClass:"active",startIndex:0,duration:300,delay:3e3,zIndex:1,switchType:"fade",onFirstSwitch:function(e){a._loadImg(o.eq(e).find(".J_sup_img"))},onBeforeSwitch:function(e,t){n.removeClass("active"),n.eq(t).addClass("active")}}),this.opts.$el.delegate(s,"mouseenter",function(e){var t=n.index(e.currentTarget);a.carousel.switchTo(t),a.carousel.stop()}).delegate(c,"click",function(){a.carousel.switchToPrev(),a.carousel.stop()}).delegate(i,"click",function(){a.carousel.switchToNext(),a.carousel.stop()})},e});